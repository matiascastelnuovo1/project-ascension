[gd_scene load_steps=33 format=3 uid="uid://cjcyn0hedtufs"]

[ext_resource type="Script" uid="uid://bq0ebeh5ljw2i" path="res://scenes/juego/escenaprincipal.gd" id="1_o0bim"]
[ext_resource type="PackedScene" uid="uid://d0xa7bft3b1f" path="res://scenes/niveles/zona_tutorial.tscn" id="1_oblc7"]
[ext_resource type="PackedScene" uid="uid://jjlq5pq8jsa5" path="res://scenes/personaje.tscn" id="1_t5kfq"]
[ext_resource type="PackedScene" uid="uid://tk7lron16y5m" path="res://scenes/niveles/zona_cielo.tscn" id="2_t5kfq"]
[ext_resource type="PackedScene" uid="uid://ptr7gpwwup1b" path="res://scenes/niveles/zona_intermedia.tscn" id="3_o0bim"]
[ext_resource type="PackedScene" uid="uid://brewfmmn64stb" path="res://scenes/tutoriales/tutorial_1.tscn" id="6_6j68o"]
[ext_resource type="PackedScene" uid="uid://ddtrx5r1nlwgl" path="res://scenes/tutoriales/tutorial_2.tscn" id="7_sfhxn"]
[ext_resource type="PackedScene" uid="uid://b55n5t1sii5pj" path="res://scenes/tutoriales/tutorial_3.tscn" id="8_vty2h"]
[ext_resource type="PackedScene" uid="uid://b815vksto1toj" path="res://scenes/tutoriales/tutorial_4.tscn" id="9_orxr0"]
[ext_resource type="PackedScene" uid="uid://b1gg1x82jf5o7" path="res://scenes/tutoriales/tutorial_5.tscn" id="10_h40go"]
[ext_resource type="PackedScene" uid="uid://cum5p8tylehnv" path="res://scenes/tutoriales/tutorial_6.tscn" id="11_jqamj"]
[ext_resource type="Script" uid="uid://bcbxqbjqgp3eq" path="res://scripts/menu_pausa.gd" id="11_q0ci4"]
[ext_resource type="PackedScene" uid="uid://yvy0c4k364tf" path="res://scenes/coleccionables/coleccionable1.tscn" id="12_27rmh"]
[ext_resource type="PackedScene" uid="uid://budt8r7s7navi" path="res://scenes/coleccionables/coleccionable2.tscn" id="13_norlk"]
[ext_resource type="Texture2D" uid="uid://cy2rvgqu0hv1l" path="res://assets/sprites/personajes_tutorial/Multitud - Cropped.png" id="13_rb5em"]
[ext_resource type="Texture2D" uid="uid://be86stcmqtp2b" path="res://assets/sprites/personajes_tutorial/spritesheet - Shaman.png" id="13_trypt"]
[ext_resource type="Texture2D" uid="uid://bctescn1i3qdf" path="res://assets/sprites/personajes_tutorial/spritesheet - Guia.png" id="14_27rmh"]
[ext_resource type="PackedScene" uid="uid://df8k78ltjtjj4" path="res://scenes/coleccionables/coleccionable3.tscn" id="14_trypt"]
[ext_resource type="PackedScene" uid="uid://d3pkyxkytc1yg" path="res://scenes/coleccionables/coleccionable4.tscn" id="15_d1ni3"]
[ext_resource type="PackedScene" uid="uid://m6dvuih7i73g" path="res://scenes/tutoriales/tutorial_7.tscn" id="15_trypt"]
[ext_resource type="Texture2D" uid="uid://csq01mdvy7en5" path="res://assets/sprites/personajes_tutorial/Espiritu-Zorro v2.png" id="16_d1ni3"]
[ext_resource type="Texture2D" uid="uid://2et7q0huwt7e" path="res://assets/sprites/personajes_tutorial/Espiritu condor.png" id="17_q0ci4"]
[ext_resource type="PackedScene" uid="uid://dqwxaw2qyo86v" path="res://scenes/juego/menu_pausa.tscn" id="23_2obws"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_o0bim"]
size = Vector2(557.25, 34)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_6j68o"]
size = Vector2(611, 20)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_sfhxn"]
size = Vector2(757.5, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_yd3ww"]
atlas = ExtResource("13_trypt")
region = Rect2(0, 1, 128, 130)

[sub_resource type="AtlasTexture" id="AtlasTexture_m2tcj"]
atlas = ExtResource("13_trypt")
region = Rect2(0, 131, 128, 130)

[sub_resource type="SpriteFrames" id="SpriteFrames_ulh4j"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_yd3ww")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_m2tcj")
}],
"loop": true,
"name": &"default",
"speed": 5.0
}]

[sub_resource type="AtlasTexture" id="AtlasTexture_norlk"]
atlas = ExtResource("14_27rmh")
region = Rect2(0, 0, 128, 130)

[sub_resource type="AtlasTexture" id="AtlasTexture_trypt"]
atlas = ExtResource("14_27rmh")
region = Rect2(0, 130, 128, 130)

[sub_resource type="SpriteFrames" id="SpriteFrames_d1ni3"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_norlk")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_trypt")
}],
"loop": true,
"name": &"default",
"speed": 5.0
}]

[node name="EscenaPrincipal" type="Node2D"]
script = ExtResource("1_o0bim")
metadata/_edit_vertical_guides_ = [769.0, 923.0, -151.0, 0.0]
metadata/_edit_horizontal_guides_ = [1280.0]

[node name="ZonaCielo" parent="." instance=ExtResource("2_t5kfq")]
position = Vector2(-6, -5653)

[node name="ZonaIntermedia" parent="." instance=ExtResource("3_o0bim")]
position = Vector2(1, -2215)

[node name="ZonaTutorial" parent="." instance=ExtResource("1_oblc7")]
position = Vector2(2, 7)

[node name="Sonido" type="Node2D" parent="."]

[node name="FmodBankLoader" type="FmodBankLoader" parent="Sonido"]
bank_paths = ["res://assets/sounds/Fmod bankLoader/Desktop/Master.bank", "res://assets/sounds/Fmod bankLoader/Desktop/Master.strings.bank"]

[node name="MusicaInicio" type="Node2D" parent="Sonido"]
position = Vector2(-121, -79)

[node name="AreaInicio2D" type="Area2D" parent="Sonido/MusicaInicio"]
position = Vector2(333, 1144)
collision_mask = 512

[node name="CollisionInicioShape2D" type="CollisionShape2D" parent="Sonido/MusicaInicio/AreaInicio2D"]
position = Vector2(165, -32)
shape = SubResource("RectangleShape2D_o0bim")

[node name="FmodMusicaInicioEmitter2D" type="FmodEventEmitter2D" parent="Sonido/MusicaInicio"]
event_name = "event:/Music/Base 1"
event_guid = "{ff58fa08-ec72-47ab-a3cb-5dda364f8499}"
volume = 0.1

[node name="MusicaCielo" type="Node2D" parent="Sonido"]
position = Vector2(-253, -45)

[node name="FmodMusicaCieloEmitter2D" type="FmodEventEmitter2D" parent="Sonido/MusicaCielo"]
event_name = "event:/Music/Base 3"
event_guid = "{db053d4f-7510-49d5-8d5b-bd58665b0bf0}"
volume = 0.3

[node name="AreaCielo2D" type="Area2D" parent="Sonido/MusicaCielo"]
position = Vector2(266, 29)
collision_mask = 512

[node name="CollisionCieloShape2D" type="CollisionShape2D" parent="Sonido/MusicaCielo/AreaCielo2D"]
position = Vector2(393, -4594)
shape = SubResource("RectangleShape2D_6j68o")

[node name="MusicaIntermedia" type="Node2D" parent="Sonido"]
position = Vector2(97, -320)

[node name="FmodMusicaIntermediaEmitter2D" type="FmodEventEmitter2D" parent="Sonido/MusicaIntermedia"]
event_name = "event:/Music/Base 2"
event_guid = "{c45c0c69-2aac-4e35-a075-a7ce5e7a9902}"
volume = 0.2

[node name="AreaIntermedia2D" type="Area2D" parent="Sonido/MusicaIntermedia"]
position = Vector2(312, -683)
collision_mask = 512

[node name="CollisionIntermedioShape2D" type="CollisionShape2D" parent="Sonido/MusicaIntermedia/AreaIntermedia2D"]
position = Vector2(-29, -90)
shape = SubResource("RectangleShape2D_sfhxn")

[node name="Coleccionables" type="Node2D" parent="."]
position = Vector2(-515, 0)

[node name="Coleccionable1" parent="Coleccionables" instance=ExtResource("12_27rmh")]
position = Vector2(1267, -925)

[node name="Coleccionable2" parent="Coleccionables" instance=ExtResource("13_norlk")]
position = Vector2(573, -2684)

[node name="Coleccionable3" parent="Coleccionables" instance=ExtResource("14_trypt")]
position = Vector2(549, -3450)

[node name="Coleccionable4" parent="Coleccionables" instance=ExtResource("15_d1ni3")]
position = Vector2(556, -4166)

[node name="Tutoriales" type="Node2D" parent="."]

[node name="Tutorial1" parent="Tutoriales" instance=ExtResource("6_6j68o")]
position = Vector2(448, 874)
tutorial_text = "Asciende, baila y vuelve a ascender, pues los espíritus te esperan para encomendarte una tarea de suma importancia (pulsa las flechas izquierda y derecha para moverte y la barra espaciadora para saltar)."

[node name="Tutorial2" parent="Tutoriales" instance=ExtResource("7_sfhxn")]
position = Vector2(632, 360)
tutorial_text = "La máscara que llevas puesta te ayudará a pedir ayuda a los espíritus del sol. Mientras la lleves puesta, te reconocerán como aliado."

[node name="Tutorial3" parent="Tutoriales" instance=ExtResource("8_vty2h")]
position = Vector2(488, 68)
tutorial_text = "Los espíritus de la luna están dispuestos a ayudarte siempre y cuando uses la máscara que representa a su protector (presiona X para cambiar de máscara)."

[node name="Tutorial4" parent="Tutoriales" instance=ExtResource("9_orxr0")]
position = Vector2(626, -1579)
tutorial_text = "A veces, el sol y la luna tienen que cooperar para enfrentar retos que no pueden superar por separado."

[node name="Tutorial5" parent="Tutoriales" instance=ExtResource("10_h40go")]
position = Vector2(671, -3384)
tutorial_text = "Mis descendientes te pondrán a prueba. Debes demostrar que eres capaz de asumir esta responsabilidad."

[node name="Tutorial6" parent="Tutoriales" instance=ExtResource("11_jqamj")]
position = Vector2(369, -4760)
tutorial_text = "Ahora te encuentras en los últimos pasos de tu viaje, solo la ayuda del sol y la luna te permitirá avanzar a partir de ahora... De casualidad no te cruzaste con mi mascara durante tu recorrido?"

[node name="Tutorial7" parent="Tutoriales" instance=ExtResource("15_trypt")]
position = Vector2(369, -4760)
tutorial_text = "Ahora te encuentras en los últimos pasos de tu viaje, solo la ayuda del sol y la luna te permitirán avanzar a partir de ahora... Quizás te preguntes cómo he llegado hasta aquí. He usado el ascensor para chamanes, por supuesto."

[node name="NPCs" type="Node2D" parent="."]

[node name="chaman2" type="AnimatedSprite2D" parent="NPCs"]
position = Vector2(365, -4664)
sprite_frames = SubResource("SpriteFrames_ulh4j")
autoplay = "default"
frame = 1
frame_progress = 0.29542923

[node name="MultitudCropped" type="Sprite2D" parent="NPCs"]
position = Vector2(99, 1001)
texture = ExtResource("13_rb5em")

[node name="MultitudCropped2" type="Sprite2D" parent="NPCs"]
position = Vector2(709, 1000)
texture = ExtResource("13_rb5em")

[node name="guia" type="AnimatedSprite2D" parent="NPCs"]
position = Vector2(616, 479)
sprite_frames = SubResource("SpriteFrames_d1ni3")
autoplay = "default"
frame = 1
frame_progress = 0.71695

[node name="chaman" type="AnimatedSprite2D" parent="NPCs"]
position = Vector2(473, 159)
sprite_frames = SubResource("SpriteFrames_ulh4j")
autoplay = "default"
frame = 1
frame_progress = 0.29542923

[node name="EspirituZorroV2" type="Sprite2D" parent="NPCs"]
position = Vector2(741, -1544)
scale = Vector2(2.125, 2.109375)
texture = ExtResource("16_d1ni3")
flip_h = true

[node name="EspirituCondor" type="Sprite2D" parent="NPCs"]
position = Vector2(743, -3349)
texture = ExtResource("17_q0ci4")

[node name="Personaje" type="Node2D" parent="."]
position = Vector2(186, 6)

[node name="Personaje" parent="Personaje" instance=ExtResource("1_t5kfq")]
position = Vector2(463, 1044)
collision_mask = 3

[node name="Camera2D" type="Camera2D" parent="Personaje/Personaje"]
position = Vector2(-129, -138)
limit_left = -1
limit_top = -9999981
limit_right = 767
limit_bottom = 1359
limit_smoothed = true
position_smoothing_enabled = true
script = ExtResource("11_q0ci4")

[node name="FmodListener2D" type="FmodListener2D" parent="Personaje/Personaje/Camera2D"]
position = Vector2(-4, -86)

[node name="FmodEventEmitter2D" type="FmodEventEmitter2D" parent="Personaje/Personaje/Camera2D"]
event_name = "event:/Fxs/Jump"
event_guid = "{1d6394e6-cfd0-4530-8911-29c5d8d46d72}"
volume = 0.1
position = Vector2(-330, -958)

[node name="StepsEmitter" type="FmodEventEmitter2D" parent="Personaje/Personaje"]
event_name = "event:/Fxs/Step"
event_guid = "{a95d0b0e-b8c7-4575-ab87-176361debfa1}"
volume = 0.3
position = Vector2(-330, -958)

[node name="MaskChangeEmitter" type="FmodEventEmitter2D" parent="Personaje/Personaje"]
event_name = "event:/Fxs/Change mask"
event_guid = "{508c6461-473e-434b-a862-7c2ba27aeb01}"
volume = 0.5

[node name="Tutoriales2" type="Node2D" parent="."]

[node name="CanvasLayerMenuPausa" type="CanvasLayer" parent="."]
offset = Vector2(400, 400)
transform = Transform2D(1, 0, 0, 1, 400, 400)

[node name="MenuPausa" parent="CanvasLayerMenuPausa" instance=ExtResource("23_2obws")]

[connection signal="body_entered" from="Sonido/MusicaInicio/AreaInicio2D" to="." method="_on_area_inicio_2d_body_entered"]
[connection signal="body_entered" from="Sonido/MusicaCielo/AreaCielo2D" to="." method="_on_area_cielo_2d_body_entered"]
[connection signal="body_entered" from="Sonido/MusicaIntermedia/AreaIntermedia2D" to="." method="_on_area_intermedia_2d_body_entered"]
